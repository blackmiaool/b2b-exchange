{"version":3,"file":"js/app-legacy.da474f45.js","mappings":"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","sources":["webpack://b2b-exchange/./src/App.vue?fb45","webpack://b2b-exchange/./src/App.vue","webpack://b2b-exchange/./src/views/HomeView.vue?dbfb","webpack://b2b-exchange/./src/components/RoomList.vue?0696","webpack://b2b-exchange/./src/common/crypto.ts","webpack://b2b-exchange/./src/config.ts","webpack://b2b-exchange/./src/components/RoomList.vue","webpack://b2b-exchange/./src/components/RoomList.vue?605e","webpack://b2b-exchange/./src/components/RoomList.vue?375f","webpack://b2b-exchange/./src/components/Room.vue?eb11","webpack://b2b-exchange/./src/common/utils.ts","webpack://b2b-exchange/./src/components/Room.vue","webpack://b2b-exchange/./src/components/Room.vue?711f","webpack://b2b-exchange/./src/components/Room.vue?54e6","webpack://b2b-exchange/./src/common/io.ts","webpack://b2b-exchange/./src/views/HomeView.vue","webpack://b2b-exchange/./src/views/HomeView.vue?5bcc","webpack://b2b-exchange/./src/views/HomeView.vue?aae2","webpack://b2b-exchange/./src/router/index.ts","webpack://b2b-exchange/./src/common/parallelTask.ts","webpack://b2b-exchange/./src/store.ts","webpack://b2b-exchange/./src/main.ts","webpack://b2b-exchange/webpack/bootstrap","webpack://b2b-exchange/webpack/runtime/chunk loaded","webpack://b2b-exchange/webpack/runtime/compat get default export","webpack://b2b-exchange/webpack/runtime/define property getters","webpack://b2b-exchange/webpack/runtime/global","webpack://b2b-exchange/webpack/runtime/hasOwnProperty shorthand","webpack://b2b-exchange/webpack/runtime/make namespace object","webpack://b2b-exchange/webpack/runtime/node module decorator","webpack://b2b-exchange/webpack/runtime/jsonp chunk loading","webpack://b2b-exchange/webpack/startup"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"height\":\"100%\"},attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=da1a3a18&\"\nvar script = {}\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\",staticStyle:{\"height\":\"100%\",\"display\":\"flex\"}},[_c('div',{staticClass:\"left\",staticStyle:{\"height\":\"100%\",\"max-width\":\"300px\",\"width\":\"30%\",\"flex\":\"1\"}},[_c('RoomList',{on:{\"select\":_vm.onSelect,\"roomList\":_vm.onRoomList}})],1),_c('div',{staticClass:\"right\",staticStyle:{\"height\":\"100%\",\"flex\":\"1\"}},[_c('Room',{ref:\"room\",attrs:{\"room\":_vm.room,\"othersInfo\":_vm.othersInfo},on:{\"filesChange\":function($event){return _vm.onFilesChange($event, _vm.room)}}})],1),_c('div',{staticClass:\"bottom\",staticStyle:{\"position\":\"absolute\",\"bottom\":\"0\",\"left\":\"0\",\"right\":\"0\",\"height\":\"20px\"}},[_c('div',{staticStyle:{\"position\":\"absolute\",\"right\":\"5px\"}},[_vm._v(_vm._s(_vm.id.slice(0, 15)))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"background-color\":\"rgb(84, 92, 100)\",\"height\":\"100%\",\"position\":\"relative\"}},[_vm._m(0),_c('main',[_c('el-menu',{staticClass:\"el-menu-vertical-demo\",attrs:{\"default-active\":\"0\",\"background-color\":\"#545c64\",\"text-color\":\"#fff\",\"active-text-color\":\"#ffd04b\"},on:{\"select\":_vm.onSelect}},_vm._l((_vm.roomList),function(room,i){return _c('el-menu-item',{key:room.roomName,staticClass:\"clickable room-title\",attrs:{\"index\":String(i)}},[_c('i',{staticClass:\"el-icon-menu\"}),_c('span',[_vm._v(_vm._s(room.roomName))])])}),1)],1),_c('footer',{staticStyle:{\"position\":\"absolute\",\"left\":\"0\",\"right\":\"0\",\"bottom\":\"0\"}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addRoom}},[_vm._v(\"Add\")])],1),_c('el-dialog',{attrs:{\"title\":\"Add Room\",\"visible\":_vm.dialogVisible,\"width\":\"30%\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('span',[_vm._v(\"Room Name\")]),_c('el-input',{attrs:{\"placeholder\":\"Please input\"},model:{value:(_vm.roomName),callback:function ($$v) {_vm.roomName=$$v},expression:\"roomName\"}}),_c('span',[_vm._v(\"Room Password\")]),_c('el-input',{attrs:{\"placeholder\":\"Please input\"},model:{value:(_vm.roomPassword),callback:function ($$v) {_vm.roomPassword=$$v},expression:\"roomPassword\"}}),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"Cancel\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onConfirmAddRoom}},[_vm._v(\"Confirm\")])],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',[_c('section',{staticClass:\"room-tab\"})])}]\n\nexport { render, staticRenderFns }","import CryptoJS from \"crypto-js\";\nconst hashCache = {};\nexport function encrypt(message, secret) {\n    const result = CryptoJS.AES.encrypt(message, secret);\n    return result.toString();\n}\nexport function decrypt(message, secret) {\n    return CryptoJS.AES.decrypt(message, secret).toString(CryptoJS.enc.Utf8);\n}\nexport function hash(message, salt) {\n    if (!hashCache[message]) {\n        const result = CryptoJS.SHA512(message + \"-\" + salt).toString();\n        hashCache[message] = result;\n    }\n    return hashCache[message];\n}\nexport async function encryptBlobToBlob(blob, secret) {\n    const wordArray = CryptoJS.lib.WordArray.create(await blob.arrayBuffer());\n    const result = CryptoJS.AES.encrypt(wordArray, secret);\n    return new Blob([result.toString()]);\n}\nexport async function decryptBlobToBlob(blob, secret) {\n    const decryptedRaw = CryptoJS.AES.decrypt(await blob.text(), secret);\n    return new Blob([wordArrayToByteArray(decryptedRaw)]);\n}\nfunction wordToByteArray(word, length) {\n    const ba = [];\n    const xFF = 0xff;\n    if (length > 0)\n        ba.push(word >>> 24);\n    if (length > 1)\n        ba.push((word >>> 16) & xFF);\n    if (length > 2)\n        ba.push((word >>> 8) & xFF);\n    if (length > 3)\n        ba.push(word & xFF);\n    return ba;\n}\nfunction wordArrayToByteArray({ words, sigBytes }) {\n    const result = [];\n    let bytes;\n    let i = 0;\n    while (sigBytes > 0) {\n        bytes = wordToByteArray(words[i], Math.min(4, sigBytes));\n        sigBytes -= bytes.length;\n        result.push(bytes);\n        i++;\n    }\n    return new Uint8Array(result.flat());\n}\n","export default {\n    pubicKey: `-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDBFhecdO3oC9+IsVDkqvDtMqN7\np/4FP0ywusbfa0iBmNh15iljIonXyJSX0v3OagvZ0m49g7pdSvaQixblWkGedKY9\n7T399fnRG7clqi6X7NCJpvQVGaBtq6ez5VNffB9xIUn+efZyjMFNnro0tdVeXCA8\nxfmGtJe6UoazG2b8QwIDAQAB\n-----END PUBLIC KEY-----\n    `,\n    port: 43820,\n    roomSalt: \"woklsdg290323kjbg\",\n    fileSalt: \"2303,,g;w2;23o5\",\n    aesSalt: \"203kmg02l;3;t\",\n    server: \"192.168.50.210\"\n};\n","import { hash } from \"../common/crypto\";\nimport config from \"../config\";\nexport default {\n    name: \"RoomList\",\n    data() {\n        return {\n            configKey: \"b2b-exchange-config\",\n            roomList: [],\n            roomName: \"\",\n            roomPassword: \"\",\n            dialogVisible: false,\n            selected: null\n        };\n    },\n    created() {\n        this.initConfig();\n    },\n    mounted() {\n        this.onSelect(0);\n    },\n    methods: {\n        onSelect(index) {\n            this.selected = this.roomList[index];\n            const roomHash = hash(this.selected.roomPassword, config.roomSalt);\n            this.$emit(\"select\", { ...this.selected, hash: roomHash });\n        },\n        onConfirmAddRoom() {\n            if (!this.roomName || !this.roomPassword) {\n                this.$alert(\"no name or no pwd\");\n                return;\n            }\n            if (this.roomPassword.length < 6) {\n                this.$alert(\"pass word too short\");\n                return;\n            }\n            this.roomList.push({\n                roomName: this.roomName,\n                roomPassword: this.roomPassword\n            });\n            this.syncConfig();\n            this.dialogVisible = false;\n            this.$emit(\"roomList\", this.roomList);\n        },\n        initConfig() {\n            try {\n                const config = localStorage.getItem(this.configKey);\n                this.roomList = JSON.parse(config) || [];\n            }\n            catch (e) {\n                this.roomList = [];\n            }\n            this.$emit(\"roomList\", this.roomList);\n        },\n        syncConfig() {\n            localStorage.setItem(this.configKey, JSON.stringify(this.roomList));\n        },\n        addRoom() {\n            this.dialogVisible = true;\n        },\n        handleClose(done) {\n            this.$confirm(\"Are you sure to close this dialog?\")\n                .then(() => {\n                done();\n            })\n                .catch(() => { });\n        }\n    },\n    components: {}\n};\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RoomList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./RoomList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RoomList.vue?vue&type=template&id=6974de76&\"\nimport script from \"./RoomList.vue?vue&type=script&lang=ts&\"\nexport * from \"./RoomList.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./RoomList.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"room\",staticStyle:{\"height\":\"100%\",\"padding\":\"20px\",\"box-sizing\":\"border-box\",\"overflow\":\"auto\"}},[_c('div',{staticStyle:{\"position\":\"relative\"}},[(_vm.room)?_c('span',{staticStyle:{\"font-size\":\"30px\",\"font-weight\":\"bold\"},attrs:{\"title\":_vm.roomHash}},[_vm._v(_vm._s(_vm.room.roomName))]):_vm._e(),_c('el-button',{staticStyle:{\"position\":\"absolute\",\"right\":\"0\",\"top\":\"0\"},attrs:{\"type\":\"danger\"},on:{\"click\":_vm.showPassword}},[_vm._v(\"Show Password\")])],1),_c('file-upload',{ref:\"uspload\",staticClass:\"btn btn-primary\",attrs:{\"post-action\":\"/upload/post\",\"multiple\":true,\"drop\":true,\"drop-directory\":true,\"value\":_vm.files},on:{\"input\":_vm.onFiles}},[_c('el-button',{attrs:{\"type\":\"primary\"}},[_c('i',{staticClass:\"el-icon-upload\"}),_vm._v(\" Upload\")])],1),_c('div',[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.files}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"Name\",\"width\":\"280\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar ref_row = ref.row;\nvar name = ref_row.name;\nvar hash = ref_row.hash;\nreturn [_c('div',[_c('div',{attrs:{\"title\":hash}},[_vm._v(_vm._s(name))]),(_vm.imageBlobMap[name])?_c('img',{attrs:{\"src\":_vm.imageBlobMap[name],\"alt\":\"\"}}):_vm._e()])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"size\",\"label\":\"Size\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar size = ref.row.size;\nreturn [_c('span',[_vm._v(_vm._s(_vm.filesize(size)))])]}}])})],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.othersTable}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"Name\",\"width\":\"280\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar ref_row = ref.row;\nvar name = ref_row.name;\nvar hash = ref_row.hash;\nreturn [_c('div',[_c('div',{attrs:{\"title\":hash}},[_vm._v(_vm._s(name))]),(_vm.imageBlobMap[name])?_c('img',{staticStyle:{\"max-width\":\"100%\",\"max-height\":\"200px\"},attrs:{\"src\":_vm.imageBlobMap[name],\"alt\":\"\"}}):_vm._e()])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"size\",\"label\":\"Size\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar size = ref.row.size;\nreturn [_c('span',[_vm._v(_vm._s(_vm.filesize(size)))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"id\",\"label\":\"From\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar id = ref.row.id;\nreturn [_c('span',{attrs:{\"title\":id}},[_vm._v(_vm._s(id.slice(0, 10)))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"Action\",\"width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar file = ref.row;\nreturn [_c('div',[(!_vm.progressMap[file.name])?_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.startDownload(file)}}},[_c('i',{staticClass:\"el-icon-download\"}),_vm._v(\" Download\")]):_vm._e(),(!_vm.progressMap[file.name] && _vm.isText(file.name))?_c('el-button',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"type\":\"warning\"},on:{\"click\":function($event){return _vm.startPreview(file)}}},[_c('i',{staticClass:\"el-icon-download\"}),_vm._v(\" Preview\")]):_vm._e(),(_vm.progressMap[file.name])?_c('el-button',[_vm._v(_vm._s(_vm._f(\"percentage\")(_vm.progressMap[file.name])))]):_vm._e()],1)]}}])})],1)],1),_c('el-dialog',{attrs:{\"title\":\"Tips\",\"visible\":_vm.showPasswordDialogVisible,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.showPasswordDialogVisible=$event}}},[(_vm.room)?_c('span',[_vm._v(_vm._s(_vm.room.roomPassword))]):_vm._e(),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.showPasswordDialogVisible = false}}},[_vm._v(\"Cancel\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.copyPassword}},[_vm._v(\"Copy\")])],1)]),_c('el-dialog',{attrs:{\"title\":\"Paste Image\",\"visible\":_vm.showPasteImageVisible,\"width\":\"30%\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.showPasteImageVisible=$event}}},[_c('span',{staticStyle:{\"display\":\"inline-block\",\"margin-bottom\":\"15px\"}},[_vm._v(\"Input the file name of your Image\")]),_c('el-input',{staticStyle:{\"margin-bottom\":\"15px\"},attrs:{\"placeholder\":\"Please input file name\"},model:{value:(_vm.pastedItemName),callback:function ($$v) {_vm.pastedItemName=$$v},expression:\"pastedItemName\"}}),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.generateFileName}},[_vm._v(\"Generate\")]),_c('img',{staticStyle:{\"max-width\":\"100%\",\"max-height\":\"100%\",\"display\":\"block\",\"margin\":\"auto\"},attrs:{\"src\":_vm.pastedItem}}),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancelPaste}},[_vm._v(\"Cancel\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!Boolean(_vm.pastedItemName)},on:{\"click\":_vm.confirmPaste}},[_vm._v(\"Confirm\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"Paste Text\",\"visible\":_vm.showPasteTextVisible,\"width\":\"30%\",\"close-on-click-modal\":false},on:{\"update:visible\":function($event){_vm.showPasteTextVisible=$event},\"close\":_vm.cancelPaste}},[_c('span',{staticStyle:{\"display\":\"inline-block\",\"margin-bottom\":\"15px\"}},[_vm._v(\"Input the file name of your text\")]),_c('el-input',{staticStyle:{\"margin-bottom\":\"15px\"},attrs:{\"placeholder\":\"Please input file name\"},model:{value:(_vm.pastedItemName),callback:function ($$v) {_vm.pastedItemName=$$v},expression:\"pastedItemName\"}}),_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":_vm.generateFileName}},[_vm._v(\"Generate\")]),_c('div',[_vm._v(\" \"+_vm._s(_vm.pastedItem)+\" \")]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.cancelPaste}},[_vm._v(\"Cancel\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!Boolean(_vm.pastedItemName)},on:{\"click\":_vm.confirmPaste}},[_vm._v(\"Confirm\")])],1)],1),_c('el-dialog',{attrs:{\"title\":(\"Preview \" + _vm.previewingTextFileName),\"visible\":_vm.showTextPreview,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.showTextPreview=$event},\"close\":_vm.closeTextPreview}},[_c('div',[_c('textarea',{attrs:{\"cols\":\"30\",\"rows\":\"10\",\"readonly\":\"\"},domProps:{\"value\":_vm.previewingText}})]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.copyPreviewingText}},[_vm._v(\"Copy\")]),_c('el-button',{attrs:{\"type\":\"default\"},on:{\"click\":function($event){_vm.showTextPreview = false}}},[_vm._v(\"Confirm\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","const imageSuffixMap = {\n    jpg: true,\n    jpeg: true,\n    webp: true,\n    png: true,\n    gif: true\n};\nconst textSuffixMap = {\n    txt: true\n};\nfunction getSuffix(name) {\n    if (!name.includes(\".\")) {\n        return \"\";\n    }\n    return name.split(\".\").pop();\n}\nexport function isImage(name) {\n    const suffix = getSuffix(name);\n    if (suffix && imageSuffixMap[suffix]) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nexport function isText(name) {\n    const suffix = getSuffix(name);\n    if (suffix && textSuffixMap[suffix]) {\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nexport function getBlobType(fileName) {\n    const suffix = fileName?.split(\".\")?.[1];\n    if (!suffix) {\n        return \"\";\n    }\n    let type = \"\";\n    if (suffix === \"jpg\") {\n        type = \"jpeg\";\n    }\n    if (suffix === \"png\" || suffix === \"gif\" || suffix === \"jpeg\") {\n        type = suffix;\n    }\n    return type;\n}\n","import filesize from \"filesize\";\nimport Vue from \"vue\";\nimport FileUpload from \"vue-upload-component\";\nimport { decrypt, hash } from \"../common/crypto\";\nimport config from \"../config\";\nimport { mapActions } from \"vuex\";\nimport { getBlobType, isImage, isText } from \"../common/utils\";\nexport default Vue.extend({\n    name: \"RoomComp\",\n    props: {\n        room: Object,\n        othersInfo: Array\n    },\n    data() {\n        return {\n            previewingTextFileName: \"\",\n            showTextPreview: false,\n            previewingText: \"\",\n            showPasteTextVisible: false,\n            pastedBlob: null,\n            pastedItem: \"\",\n            showPasteImageVisible: false,\n            imageBlobMap: {},\n            othersTable: [],\n            files: [],\n            showPasswordDialogVisible: false,\n            progressMap: {},\n            pastedItemName: \"\",\n            imageSuffixMap: {\n                jpg: true,\n                jpeg: true,\n                webp: true,\n                png: true,\n                gif: true\n            }\n        };\n    },\n    mounted() {\n        document.onpaste = event => {\n            const items = event.clipboardData.items;\n            const pastedText = event.clipboardData.getData(\"Text\");\n            if (pastedText) {\n                this.pastedItem = pastedText;\n                this.showPasteTextVisible = true;\n                this.pastedBlob = new Blob([pastedText]);\n                return;\n            }\n            if (!items.length) {\n                return;\n            }\n            for (const index in items) {\n                const item = items[index];\n                if (item.kind === \"file\") {\n                    const blob = item.getAsFile();\n                    this.pastedBlob = blob;\n                    const reader = new FileReader();\n                    reader.onload = event => {\n                        this.pastedItem = event.target.result;\n                        this.showPasteImageVisible = true;\n                    };\n                    reader.readAsDataURL(blob);\n                }\n            }\n        };\n    },\n    computed: {\n        roomHash() {\n            if (!this.room) {\n                return \"\";\n            }\n            return hash(this.room.roomPassword, config.roomSalt);\n        }\n    },\n    methods: {\n        isImage,\n        isText,\n        ...mapActions([\"safeRequest\", \"download\"]),\n        closeTextPreview() {\n            this.previewingTextFileName = \"\";\n        },\n        copyPreviewingText() {\n            navigator.clipboard.writeText(this.previewingText);\n        },\n        generateFileName() {\n            const randomNumber = Math.floor(Math.random() * 1e6);\n            this.pastedItemName = String(randomNumber);\n        },\n        cancelPaste() {\n            this.pastedItem = \"\";\n            this.pastedItemName = \"\";\n            this.showPasteTextVisible = false;\n            this.showPasteImageVisible = false;\n        },\n        confirmPaste() {\n            if (this.showPasteImageVisible) {\n                const base64 = this.pastedItem;\n                const suffix = base64.slice(0, 20).match(/\\/(\\w+)/)?.[1] || \"\";\n                const file = new File([this.pastedBlob], `${this.pastedItemName}.${suffix}`, {\n                    type: `image/${getBlobType(`a.${suffix}`)}`,\n                    lastModified: Date.now()\n                });\n                this.$refs.uspload.add(file);\n                this.cancelPaste();\n            }\n            else if (this.showPasteTextVisible) {\n                const file = new File([this.pastedBlob], `${this.pastedItemName}.txt`, {\n                    type: `text/plain`,\n                    lastModified: Date.now()\n                });\n                this.$refs.uspload.add(file);\n                this.cancelPaste();\n            }\n        },\n        async startPreview(file) {\n            if (this.previewingTextFileName) {\n                return;\n            }\n            this.previewingTextFileName = file.name;\n            const blob = await this.fetchBlob(file);\n            if (this.isText(file.name)) {\n                const text = await blob.text();\n                this.previewingText = text;\n                this.showTextPreview = true;\n            }\n        },\n        async fetchBlob(file) {\n            this.$set(this.progressMap, file.name, 0.000001);\n            const blob = (await this.download({\n                roomHash: this.roomHash,\n                roomPassword: this.room.roomPassword,\n                fileName: file.name,\n                fileSize: file.size,\n                from: file.id,\n                onProgress: progress => {\n                    this.$set(this.progressMap, file.name, progress);\n                    console.log(\"on\", progress);\n                }\n            }));\n            this.$delete(this.progressMap, file.name);\n            return blob;\n        },\n        async startDownload(file) {\n            const blob = await this.fetchBlob(file);\n            if (this.isImage(file.name)) {\n                const reader = new FileReader();\n                reader.addEventListener(\"loadend\", () => {\n                    const contents = reader.result;\n                    this.$set(this.imageBlobMap, file.name, contents);\n                });\n                if (blob instanceof Blob)\n                    reader.readAsDataURL(blob);\n            }\n            else {\n                this.downloadBlob(blob, file.name);\n            }\n        },\n        downloadBlob(blob, name = \"file.txt\") {\n            // For other browsers:\n            // Create a link pointing to the ObjectURL containing the blob.\n            const data = window.URL.createObjectURL(blob);\n            const link = document.createElement(\"a\");\n            link.href = data;\n            link.download = name;\n            // this is necessary as link.click() does not work on the latest firefox\n            link.dispatchEvent(new MouseEvent(\"click\", {\n                bubbles: true,\n                cancelable: true,\n                view: window\n            }));\n            setTimeout(() => {\n                // For Firefox it is necessary to delay revoking the ObjectURL\n                window.URL.revokeObjectURL(data);\n                link.remove();\n            }, 100);\n        },\n        setFiles(files) {\n            this.files = files;\n        },\n        onFiles(files) {\n            const nameMap = {};\n            this.files = files\n                .map(file => {\n                if (!file.hash) {\n                    file.hash = hash(file.name, config.fileSalt);\n                }\n                return file;\n            })\n                .filter(({ name }) => {\n                if (nameMap[name]) {\n                    this.$message.error(\"found duplicated file name \" + name);\n                    return false;\n                }\n                nameMap[name] = true;\n                return true;\n            });\n            this.$emit(\"filesChange\", this.files);\n        },\n        showPassword() {\n            this.showPasswordDialogVisible = true;\n        },\n        copyPassword() {\n            navigator.clipboard.writeText(this.room.roomPassword);\n            this.showPasswordDialogVisible = false;\n        },\n        filesize\n    },\n    watch: {\n        othersInfo: {\n            immediate: true,\n            handler(othersInfo) {\n                if (!othersInfo) {\n                    this.othersTable = [];\n                }\n                this.othersTable = othersInfo.reduce((p, v) => {\n                    if (v.room.files) {\n                        const files = JSON.parse(decrypt(v.room.files, this.room.roomPassword));\n                        files.forEach(file => {\n                            p.push(Object.assign({\n                                progress: 0\n                            }, file, {\n                                id: v.id\n                            }));\n                        });\n                    }\n                    return p;\n                }, []);\n            }\n        }\n        // files(files) {\n        //     console.log(files);\n        // }\n    },\n    components: {\n        FileUpload\n    }\n});\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Room.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Room.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Room.vue?vue&type=template&id=5274c1c8&\"\nimport script from \"./Room.vue?vue&type=script&lang=ts&\"\nexport * from \"./Room.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Room.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import axios from \"axios\";\nimport config from \"../config\";\nexport function request({ method, data, headers, responseType }) {\n    const origin = `http://${config.server}:${config.port}`;\n    return axios({\n        method: \"POST\",\n        url: `${origin}/${method}`,\n        headers,\n        data,\n        responseType\n    }).then(result => {\n        return result.data;\n    });\n}\n","import RoomList from \"../components/RoomList.vue\";\nimport Room from \"../components/Room.vue\";\nimport config from \"../config\";\nimport JSEncrypt from \"jsencrypt\";\nimport { request } from \"../common/io\";\nimport { decrypt, encrypt, encryptBlobToBlob, hash } from \"../common/crypto\";\nimport { mapActions, mapMutations } from \"vuex\";\nexport default {\n    name: \"HomeView\",\n    data() {\n        // const id = Math.floor(Math.random() * 1e5);\n        return {\n            processingChunk: false,\n            intervalList: [],\n            id: \"HomeView\",\n            room: null,\n            othersInfo: [],\n            AESKey: \"\" // between client and server\n        };\n    },\n    created() {\n        this.roomsInfo = {};\n        const encrypt = new JSEncrypt();\n        encrypt.setPublicKey(config.pubicKey);\n        this.encrypt = encrypt;\n        this.AESKey = this.generateAESKey();\n        this.$store.commit(\"setAESKey\", this.AESKey);\n        this.id = hash(this.AESKey, config.aesSalt);\n        this.$store.commit(\"setID\", this.id);\n        this.encryptedBasic = this.encrypt.encrypt(JSON.stringify({\n            AESKey: this.AESKey\n        }));\n        window.onbeforeunload = () => {\n            this.exit();\n        };\n    },\n    destroyed() {\n        console.log(1);\n        this.exit();\n        this.intervalList.forEach(interval => {\n            clearInterval(interval);\n        });\n        this.intervalList = [];\n    },\n    mounted() {\n        this.ping();\n        const interval = setInterval(() => {\n            this.ping();\n        }, 9000);\n        setTimeout(() => {\n            this.getRoomInfo();\n        }, 500);\n        const interval2 = setInterval(() => {\n            this.getRoomInfo();\n        }, 3000);\n        this.intervalList.push(interval);\n        this.intervalList.push(interval2);\n    },\n    methods: {\n        ...mapMutations([\"getAESKey\"]),\n        ...mapActions([\"safeRequest\"]),\n        exit() {\n            request({\n                method: \"exit\",\n                data: {\n                    id: this.id,\n                    d: encrypt(JSON.stringify({}), this.AESKey)\n                }\n            });\n        },\n        generateAESKey() {\n            return String(Math.random()) + String(Date.now());\n        },\n        async onWaitChunkMap(waitChunkMap) {\n            if (this.processingChunk) {\n                return;\n            }\n            this.processingChunk = true;\n            try {\n                let fileInfo;\n                let path = { roomHash: \"\", fileHash: \"\" };\n                for (const url in waitChunkMap) {\n                    const [roomHash, fileHash] = url.split(\"-\");\n                    if (!this.roomsInfo[roomHash]) {\n                        continue;\n                    }\n                    fileInfo = this.roomsInfo[roomHash].files.find(fileInfo => {\n                        return fileInfo.hash === fileHash;\n                    });\n                    if (fileInfo) {\n                        path = {\n                            roomHash,\n                            fileHash\n                        };\n                        break;\n                    }\n                }\n                const url = path.roomHash + \"-\" + path.fileHash;\n                if (fileInfo) {\n                    const requestInfo = waitChunkMap[url];\n                    const ret = await this.pushChunk({\n                        position: requestInfo[0].position,\n                        size: requestInfo[0].size,\n                        file: fileInfo.file,\n                        roomHash: path.roomHash,\n                        fileHash: path.fileHash\n                    });\n                    if (ret.waitChunkMap) {\n                        setTimeout(() => {\n                            this.onWaitChunkMap(ret.waitChunkMap);\n                        });\n                    }\n                }\n            }\n            finally {\n                this.processingChunk = false;\n            }\n        },\n        async pushChunk({ position, size, file, roomHash, fileHash }) {\n            const roomPassword = this.roomsInfo[roomHash].roomPassword;\n            const form = new FormData();\n            const blob = file.slice(position, position + size);\n            const encryptedBlob = await encryptBlobToBlob(blob, roomPassword);\n            console.log(\"encryptedBlob\", encryptedBlob);\n            form.append(\"blob\", encryptedBlob);\n            form.append(\"id\", this.id);\n            form.append(\"d\", encrypt(JSON.stringify({\n                position,\n                size,\n                roomHash,\n                fileHash\n            }), this.AESKey));\n            const result = await request({\n                method: \"push\",\n                headers: {\n                    \"Content-Type\": \"multipart/form-data\"\n                },\n                data: form\n            });\n            const ret = this.decryptRet(result);\n            return ret;\n            // console.log(\"ret\", ret);\n        },\n        decryptRet(result) {\n            if (result === \"OK\") {\n                return {};\n            }\n            return JSON.parse(decrypt(result, this.$store.getters.AESKey));\n        },\n        async getRoomInfo() {\n            let result = await this.safeRequest({\n                method: \"getRoomInfo\",\n                data: { roomHash: this.room.hash }\n            });\n            result = JSON.parse(result);\n            if (result.waitChunkMap) {\n                this.onWaitChunkMap(result.waitChunkMap);\n            }\n            this.othersInfo = result.others;\n        },\n        ping() {\n            const encryptedRoomsInfo = {};\n            for (const roomHash in this.roomsInfo) {\n                encryptedRoomsInfo[roomHash] = {};\n                encryptedRoomsInfo[roomHash].files = this.roomsInfo[roomHash].encryptedFiles;\n            }\n            request({\n                method: \"ping\",\n                data: {\n                    e: this.encryptedBasic,\n                    i: encrypt(JSON.stringify(encryptedRoomsInfo), this.AESKey)\n                }\n            });\n        },\n        onRoomList(roomList) {\n            roomList?.forEach(room => {\n                const roomHash = hash(room.roomPassword, config.roomSalt);\n                if (!this.roomsInfo[roomHash]) {\n                    this.roomsInfo[roomHash] = {};\n                }\n            });\n            this.ping();\n        },\n        onFilesChange(files, room) {\n            const filesInfo = files?.map(file => {\n                return {\n                    size: file.size,\n                    name: file.name\n                };\n            });\n            this.roomsInfo[room.hash].files = files;\n            this.roomsInfo[room.hash].roomPassword = room.roomPassword;\n            this.roomsInfo[room.hash].encryptedFiles = encrypt(JSON.stringify(filesInfo), room.roomPassword);\n            this.ping();\n        },\n        onSelect(room) {\n            this.room = room;\n            this.$refs.room.setFiles(this.roomsInfo[room.hash].files);\n            this.othersInfo = [];\n            this.getRoomInfo();\n        }\n    },\n    components: {\n        RoomList,\n        Room\n    }\n};\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HomeView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??clonedRuleSet-41[0].rules[0].use[2]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HomeView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./HomeView.vue?vue&type=template&id=0e37cd2f&\"\nimport script from \"./HomeView.vue?vue&type=script&lang=ts&\"\nexport * from \"./HomeView.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./HomeView.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport VueRouter from \"vue-router\";\nimport HomeView from \"../views/HomeView.vue\";\nVue.use(VueRouter);\nconst routes = [\n    {\n        path: \"/\",\n        name: \"home\",\n        component: HomeView\n    }\n];\nconst router = new VueRouter({\n    routes\n});\nexport default router;\n","export async function parallelTask2Map(task, shouldEnd, max) {\n    const result = await parallelTask(task, shouldEnd, max);\n    return result.reduce((p, v) => {\n        if (v?.key) {\n            p[v.key] = v.value;\n        }\n        return p;\n    }, {});\n}\nexport default function parallelTask(task, shouldEnd, max) {\n    let i = 0;\n    const all = {};\n    let runningCnt = 0;\n    return new Promise((resolve, reject) => {\n        const ret = [];\n        function check() {\n            if (shouldEnd(i)) {\n                return;\n            }\n            if (runningCnt > max) {\n                return;\n            }\n            const promise = task(i);\n            const index = i;\n            all[index] = true;\n            i++;\n            runningCnt++;\n            promise\n                .then(result => {\n                ret[index] = result;\n                delete all[index];\n                runningCnt--;\n                check();\n                if (runningCnt === 0) {\n                    resolve(ret);\n                }\n            })\n                .catch(function (e) {\n                console.log(e);\n                reject(e);\n            });\n            check();\n        }\n        check();\n    });\n}\n","import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport { decrypt, decryptBlobToBlob, encrypt, hash } from \"./common/crypto\";\nimport { request } from \"./common/io\";\nimport parallelTask from \"./common/parallelTask\";\nimport { getBlobType, isImage } from \"./common/utils\";\nimport config from \"./config\";\nVue.use(Vuex);\nconst store = new Vuex.Store({\n    state: {\n        AESKey: \"\",\n        id: \"\"\n    },\n    mutations: {\n        setID(state, id) {\n            state.id = id;\n        },\n        setAESKey(state, AESKey) {\n            state.AESKey = AESKey;\n        },\n        getAESKey(state) {\n            return state.AESKey;\n        }\n    },\n    getters: {\n        AESKey(state) {\n            return state.AESKey;\n        }\n    },\n    actions: {\n        incrementAsync({ commit }) {\n            setTimeout(() => {\n                commit(\"increment\");\n            }, 1000);\n        },\n        async safeRequest({ state }, { method, data }) {\n            const result = await request({\n                method,\n                data: {\n                    id: state.id,\n                    d: data ? encrypt(JSON.stringify(data), state.AESKey) : undefined\n                }\n            });\n            return decrypt(result, state.AESKey);\n        },\n        async download({ state }, { roomHash, roomPassword, fileName, fileSize, from, onProgress }) {\n            const chunkSize = 3e6;\n            const lastChunk = fileSize % chunkSize;\n            const chunkCount = Math.floor(fileSize / chunkSize) + (lastChunk ? 1 : 0);\n            console.log(fileSize, chunkCount, lastChunk);\n            const buffers = [];\n            onProgress(0);\n            let received = 0;\n            await parallelTask(async (index) => {\n                const result = await request({\n                    responseType: \"blob\",\n                    method: \"chunk\",\n                    data: {\n                        id: state.id,\n                        d: encrypt(JSON.stringify({\n                            roomHash,\n                            id: from,\n                            position: index * chunkSize,\n                            size: lastChunk && index === chunkCount - 1\n                                ? lastChunk\n                                : chunkSize,\n                            fileHash: hash(fileName, config.fileSalt)\n                        }), state.AESKey)\n                    }\n                });\n                buffers[index] = await decryptBlobToBlob(result, roomPassword);\n                received++;\n                onProgress(received / chunkCount);\n                // buffers[index] = decrypt(await result.arrayBuffer(), roomPassword, true);\n            }, index => {\n                return index >= chunkCount;\n            }, 5);\n            let blob;\n            if (isImage(fileName)) {\n                blob = new Blob(buffers, {\n                    type: \"image/\" + getBlobType(fileName)\n                });\n            }\n            else {\n                blob = new Blob(buffers);\n            }\n            return blob;\n            // start download process\n        }\n    }\n});\nexport default store;\n","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport ElementUI from \"element-ui\";\nimport \"element-ui/lib/theme-chalk/index.css\";\nimport \"./style/base.css\";\nimport store from \"./store\";\nVue.use(ElementUI);\nVue.config.productionTip = false;\nVue.filter(\"percentage\", function (value) {\n    if (!value) {\n        value = 0;\n    }\n    return Math.floor(value * 100) + \"%\";\n});\nnew Vue({\n    router,\n    store,\n    render: h => h(App)\n}).$mount(\"#app\");\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkb2b_exchange\"] = self[\"webpackChunkb2b_exchange\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(90485); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","staticRenderFns","script","component","staticClass","on","onSelect","onRoomList","ref","room","othersInfo","$event","onFilesChange","_v","_s","id","slice","_m","_l","i","key","roomName","String","addRoom","dialogVisible","handleClose","model","value","callback","$$v","expression","roomPassword","slot","onConfirmAddRoom","hashCache","encrypt","message","secret","result","CryptoJS","toString","decrypt","hash","salt","encryptBlobToBlob","blob","arrayBuffer","wordArray","create","Blob","decryptBlobToBlob","text","decryptedRaw","wordArrayToByteArray","wordToByteArray","word","length","ba","xFF","push","bytes","words","sigBytes","Math","min","Uint8Array","flat","pubicKey","port","roomSalt","fileSalt","aesSalt","server","name","data","configKey","roomList","selected","created","initConfig","mounted","methods","index","roomHash","config","$emit","$alert","syncConfig","localStorage","getItem","JSON","parse","e","setItem","stringify","done","$confirm","then","catch","components","_e","showPassword","files","onFiles","scopedSlots","_u","fn","ref_row","row","imageBlobMap","size","filesize","othersTable","file","progressMap","startDownload","isText","startPreview","_f","showPasswordDialogVisible","copyPassword","showPasteImageVisible","pastedItemName","generateFileName","pastedItem","cancelPaste","Boolean","confirmPaste","showPasteTextVisible","previewingTextFileName","showTextPreview","closeTextPreview","domProps","previewingText","copyPreviewingText","imageSuffixMap","jpg","jpeg","webp","png","gif","textSuffixMap","txt","getSuffix","includes","split","pop","isImage","suffix","getBlobType","fileName","type","Vue","props","Object","Array","pastedBlob","document","onpaste","event","items","clipboardData","pastedText","getData","item","kind","getAsFile","reader","FileReader","onload","target","readAsDataURL","computed","mapActions","navigator","clipboard","writeText","randomNumber","floor","random","base64","match","File","lastModified","Date","now","$refs","uspload","add","fetchBlob","$set","download","fileSize","from","onProgress","progress","console","log","$delete","addEventListener","contents","downloadBlob","window","URL","createObjectURL","link","createElement","href","dispatchEvent","MouseEvent","bubbles","cancelable","view","setTimeout","revokeObjectURL","remove","setFiles","nameMap","map","filter","$message","error","watch","immediate","handler","reduce","p","v","forEach","assign","FileUpload","request","method","headers","responseType","origin","axios","url","processingChunk","intervalList","AESKey","roomsInfo","JSEncrypt","setPublicKey","generateAESKey","$store","commit","encryptedBasic","onbeforeunload","exit","destroyed","interval","clearInterval","ping","setInterval","getRoomInfo","interval2","mapMutations","d","onWaitChunkMap","waitChunkMap","path","fileHash","fileInfo","find","requestInfo","pushChunk","position","ret","form","FormData","encryptedBlob","append","decryptRet","getters","safeRequest","others","encryptedRoomsInfo","encryptedFiles","filesInfo","RoomList","Room","VueRouter","routes","HomeView","router","parallelTask","task","shouldEnd","max","all","runningCnt","Promise","resolve","reject","check","promise","Vuex","store","state","mutations","setID","setAESKey","getAESKey","actions","incrementAsync","undefined","chunkSize","lastChunk","chunkCount","buffers","received","ElementUI","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","call","m","deferred","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","keys","every","splice","r","n","getter","__esModule","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}